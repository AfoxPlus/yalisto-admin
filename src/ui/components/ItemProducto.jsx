import React from 'react'
import { useSelector } from 'react-redux'
import {Link} from 'react-router-dom'
import { useProductStore } from '../../hooks'

export const ItemProducto = ({code, name, productType, description, imageUrl, price, stock, showInApp}) => {

  const { setActiveProduct,handleRemoveProduct } = useProductStore()

  const parseCode = () => {
    return code.slice(0, 6).toUpperCase();
  }

  const editarProducto = () => {
    setActiveProduct({code, name, productType, description, imageUrl, price, stock, showInApp})
  }

  const removeProduct = () => {
    handleRemoveProduct(code)
  }

  return (
    <tr>
     <td>#{parseCode()}</td>
    <td>{productType.name}</td>
    <td>{name}</td>
    <td>{description}</td>
    <td>
      <a href="#" className="url-imagen">
        {imageUrl}
      </a>
    </td>
    <td>s/{price}</td>
    <td>{stock}</td>
    <td>
      <div className="opciones">
        {showInApp ? (
          <svg
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              fillRule="evenodd"
              clipRule="evenodd"
              d="M11.25 7.5255C9.2393 7.6665 7.3733 8.37525 5.7968 9.23775L3.5303 6.96975C3.2378 6.67725 2.76305 6.6765 2.4698 6.96975C2.1773 7.26225 2.17655 7.737 2.4698 8.03025L4.47305 10.0357C2.4383 11.3767 1.11005 12.7853 0.937549 12.9728C0.936049 12.975 0.934549 12.9765 0.933049 12.978C0.731299 13.2023 0.681049 13.5247 0.804049 13.8C0.850549 13.902 6.2813 19.5 12 19.5C18.0908 19.5 23.049 14.0115 23.055 14.0048C23.2028 13.8428 23.2718 13.6238 23.244 13.4055C23.217 13.1895 20.9978 10.941 18.8318 9.6315L21.1808 7.28025C21.4733 6.987 21.4733 6.51225 21.1808 6.21975C20.8875 5.9265 20.412 5.92725 20.1195 6.21975L17.4698 8.87325C17.4668 8.8755 17.4638 8.8785 17.4608 8.8815C16.0545 8.193 14.4548 7.6575 12.75 7.52925V4.5C12.75 4.086 12.414 3.75 12 3.75C11.586 3.75 11.25 4.086 11.25 4.5V7.5255ZM11.9873 9C12.0143 9 12.0413 9 12.0683 9.00075C14.5208 9.0375 16.5 11.0392 16.5 13.5C16.5 15.9832 14.4833 18 12 18C9.5168 18 7.50005 15.9832 7.50005 13.5C7.50005 11.0205 9.5093 9.0075 11.9873 9ZM6.9143 10.317C4.8698 11.3535 3.29705 12.7425 2.53205 13.4872C3.27605 14.2162 4.8488 15.615 6.90155 16.6635C6.33005 15.7448 6.00005 14.661 6.00005 13.5C6.00005 12.3307 6.3353 11.2395 6.9143 10.317ZM17.1113 10.3582C17.6745 11.2717 18 12.348 18 13.5C18 14.661 17.67 15.7448 17.0985 16.6635C19.125 15.6285 20.6835 14.2515 21.4403 13.5142C20.6985 12.7882 19.143 11.4037 17.1113 10.3582Z"
              fill="black"
            />
          </svg>
        ) : (
          <svg
            width="24"
            height="25"
            viewBox="0 0 24 25"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              fillRule="evenodd"
              clipRule="evenodd"
              d="M4.49399 14.1968L2.48474 16.2083C2.19224 16.5015 2.19224 16.9763 2.48474 17.2688C2.77799 17.562 3.25349 17.5613 3.54599 17.2688L5.81624 14.9955C7.38974 15.8573 9.24899 16.566 11.253 16.7115L11.265 19.7415C11.2665 20.1555 11.604 20.49 12.018 20.4885C12.432 20.487 12.7665 20.1495 12.765 19.7355L12.753 16.7108C14.4637 16.5863 16.0687 16.0508 17.4795 15.3608C17.481 15.3623 17.4825 15.3638 17.4847 15.3653L20.1345 18.0188C20.4277 18.3113 20.9025 18.312 21.1957 18.0188C21.4882 17.7263 21.4882 17.2515 21.1957 16.9583L18.8512 14.6108C21.4125 13.0635 23.0587 11.2388 23.0587 11.2388C23.3347 10.9305 23.3085 10.4565 23.0002 10.1798C22.692 9.90376 22.218 9.93001 21.9412 10.2383C21.9412 10.2383 17.4937 15.2385 12 15.2385C6.50624 15.2385 2.05874 10.2383 2.05874 10.2383C1.78199 9.93001 1.30799 9.90376 0.999739 10.1798C0.691489 10.4565 0.665239 10.9305 0.941239 11.2388C0.941239 11.2388 2.31074 12.7568 4.49399 14.1968Z"
              fill="black"
            />
          </svg>
        )}

        <Link to={"/editarProducto"} className="btn-edit" onClick={editarProducto}>
          <svg
            width="24"
            height="25"
            viewBox="0 0 24 25"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M23.3187 5.13947L19.6792 1.4999C19.2399 1.06054 18.6557 0.818604 18.0344 0.818604C17.4132 0.818604 16.8291 1.06054 16.3897 1.49989L1.15439 16.7352C1.00978 16.8798 0.916562 17.0679 0.889083 17.2705L0.00849755 23.758C-0.0307534 24.0473 0.067374 24.3383 0.273845 24.5448C0.450333 24.7213 0.688612 24.8186 0.934829 24.8186C0.976598 24.8186 1.01864 24.8158 1.06063 24.8101L7.54805 23.9295C7.75073 23.902 7.93879 23.8089 8.0834 23.6642L23.3187 8.42896C23.7581 7.98964 24 7.40551 24 6.78424C24 6.16291 23.7581 5.57879 23.3187 5.13947ZM6.9842 22.1192L2.02646 22.7921L2.69941 17.8344L13.4956 7.03823L17.7803 11.323L6.9842 22.1192ZM21.9966 7.10681L19.1025 10.0009L14.8177 5.7161L17.7118 2.82202C17.8281 2.70574 17.9638 2.68837 18.0344 2.68837C18.105 2.68837 18.2408 2.70574 18.3571 2.82202L21.9967 6.46159C22.1129 6.57786 22.1303 6.71363 22.1303 6.78419C22.1303 6.85476 22.1129 6.99053 21.9966 7.10681Z"
              fill="black"
            />
          </svg>
        </Link>
        <Link className="btn-delete" onClick={removeProduct}>
          <svg
            width="24"
            height="25"
            viewBox="0 0 24 25"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <g clipPath="url(#clip0_19_413)">
              <path
                d="M13 0.761475H11C10.2044 0.761475 9.44129 1.07755 8.87868 1.64015C8.31607 2.20276 8 2.96583 8 3.76147V4.76147H2C1.73478 4.76147 1.48043 4.86683 1.29289 5.05437C1.10536 5.2419 1 5.49626 1 5.76147C1 6.02669 1.10536 6.28104 1.29289 6.46858C1.48043 6.65612 1.73478 6.76147 2 6.76147H3V20.7615C3 21.8223 3.42143 22.8398 4.17157 23.5899C4.92172 24.34 5.93913 24.7615 7 24.7615H17C18.0609 24.7615 19.0783 24.34 19.8284 23.5899C20.5786 22.8398 21 21.8223 21 20.7615V6.76147H22C22.2652 6.76147 22.5196 6.65612 22.7071 6.46858C22.8946 6.28104 23 6.02669 23 5.76147C23 5.49626 22.8946 5.2419 22.7071 5.05437C22.5196 4.86683 22.2652 4.76147 22 4.76147H16V3.76147C16 2.96583 15.6839 2.20276 15.1213 1.64015C14.5587 1.07755 13.7956 0.761475 13 0.761475ZM10 3.76147C10 3.49626 10.1054 3.2419 10.2929 3.05437C10.4804 2.86683 10.7348 2.76147 11 2.76147H13C13.2652 2.76147 13.5196 2.86683 13.7071 3.05437C13.8946 3.2419 14 3.49626 14 3.76147V4.76147H10V3.76147ZM19 20.7615C19 21.2919 18.7893 21.8006 18.4142 22.1757C18.0391 22.5508 17.5304 22.7615 17 22.7615H7C6.46957 22.7615 5.96086 22.5508 5.58579 22.1757C5.21071 21.8006 5 21.2919 5 20.7615V6.76147H19V20.7615Z"
                fill="#232323"
              />
              <path
                d="M12 9.76147C11.7348 9.76147 11.4804 9.86683 11.2929 10.0544C11.1054 10.2419 11 10.4963 11 10.7615V18.7615C11 19.0267 11.1054 19.281 11.2929 19.4686C11.4804 19.6561 11.7348 19.7615 12 19.7615C12.2652 19.7615 12.5196 19.6561 12.7071 19.4686C12.8946 19.281 13 19.0267 13 18.7615V10.7615C13 10.4963 12.8946 10.2419 12.7071 10.0544C12.5196 9.86683 12.2652 9.76147 12 9.76147Z"
                fill="#232323"
              />
              <path
                d="M15 18.7615C15 19.0267 15.1054 19.281 15.2929 19.4686C15.4804 19.6561 15.7348 19.7615 16 19.7615C16.2652 19.7615 16.5196 19.6561 16.7071 19.4686C16.8946 19.281 17 19.0267 17 18.7615V10.7615C17 10.4963 16.8946 10.2419 16.7071 10.0544C16.5196 9.86683 16.2652 9.76147 16 9.76147C15.7348 9.76147 15.4804 9.86683 15.2929 10.0544C15.1054 10.2419 15 10.4963 15 10.7615V18.7615Z"
                fill="#232323"
              />
              <path
                d="M8 9.76147C7.73478 9.76147 7.48043 9.86683 7.29289 10.0544C7.10536 10.2419 7 10.4963 7 10.7615V18.7615C7 19.0267 7.10536 19.281 7.29289 19.4686C7.48043 19.6561 7.73478 19.7615 8 19.7615C8.26522 19.7615 8.51957 19.6561 8.70711 19.4686C8.89464 19.281 9 19.0267 9 18.7615V10.7615C9 10.4963 8.89464 10.2419 8.70711 10.0544C8.51957 9.86683 8.26522 9.76147 8 9.76147Z"
                fill="#232323"
              />
            </g>
            <defs>
              <clipPath id="clip0_19_413">
                <rect
                  width="24"
                  height="24"
                  fill="white"
                  transform="translate(0 0.761475)"
                />
              </clipPath>
            </defs>
          </svg>
        </Link>
      </div>
    </td>
  </tr>
  
  )
}
